
Nv.add("./js/nv.modal",function(nv,$,modal){var _modal=function _modal(ev){console.log('set modal:',nv);};_modal.prototype={modelInit:function modelInit(_msg){if(_msg===void 0){_msg={};}
return"\n            <div class=\"nv-modal nv-modal-lg nv-modal-size-lg\" id="+_msg.id+">\n                <div class=\"nv-modal-dialog\">\n                    <div class=\"nv-modal-content\" style=\"width: "+_msg.width+";\">\n                        <div class=\"nv-modal-header\">\n                            <p class=\"nv-modal-title\">\n                                <span>"+_msg.title+"</span>\n                                <i class=\"nvicon-close nv-modal-close\"></i>\n                            </p>\n                        </div>\n                        <div class=\"nv-modal-body\" id=\""+_msg.id+"_cont\">\n                        </div>\n                        <div class=\"nv-modal-footer\">\n                            "+(_msg.showCancle&&"\n                                <button class=\"nv-btn nv-btn-default nv-modal-btn nv-modal-cancel\" id=\""+_msg.id+"_cancel\">\n                                    "+(_msg.cancleName||'取消')+"\n                                </button>\n                                ")+"\n                            "+(_msg.showEnter&&"\n                                <button class=\"nv-btn nv-btn-primary nv-modal-btn nv-modal-enter\" id=\""+_msg.id+"_enter\">\n                                    "+(_msg.enterName||'确定')+"\n                                </button>\n                                ")+"\n                            \n                            \n                        </div>\n                    </div>\n                </div>\n            </div>\n            ";},init:function init(_set){var _this=this;if(_set===void 0){_set=[];}
var _body=$("body");var _self=this;_set.forEach(function(item){var getId=item.src.split('/').pop();_body.append(_this.modelInit({id:getId,width:item.width||'',title:item.title||'提示信息',showEnter:true,showCancle:true}));var _modId="#"+getId,$_modId=$(_modId);$_modId.find(_modId+"_cont").load(item.src+'/index.'+(item.docType||'html'),function(ev){$.getScript(item.src+'/index.js');var _modal=null;_modal=modal.init(_modId,{top:"",move:true,openCallback:function openCallback(ev){typeof _modal.eventCallback==='function'&&_modal.eventCallback(true,ev);},closeCallback:function closeCallback(ev){typeof _modal.eventCallback==='function'&&_modal.eventCallback(false,ev);}});_modal.params={};_modal.block=function(ev){Object.assign(_modal.params,ev);_modal.show();};_modal.none=function(ev){Object.assign(_modal.params,ev);_modal.hide();};$(_modId+"_enter").on('click',function(){typeof _modal.enterCallback==='function'&&_modal.enterCallback(_modal.params);_modal.hide();});$(_modId+"_cancel").on('click',function(){typeof _modal.cancelCallback==='function'&&_modal.cancelCallback(_modal.params);});_self[getId]=_modal;});});}};Nv.modal=new _modal();return Nv.modal||{};},{requires:["jquery","modal"],alias:'modal'});